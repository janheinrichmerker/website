<!doctype html> <html> <head> <meta charset=UTF-8> <title>paper-drawer-panel tests</title> <meta name=viewport content="width=device-width,initial-scale=1,maximum-scale=1"> <script src=../../webcomponentsjs/webcomponents-lite.min.js></script> <script src=../../web-component-tester/browser.min.js></script> <link rel=import href=../paper-drawer-panel.min.html> </head> <style>body{margin:0;padding:0}.notransition,.notransition *{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}</style> <body> <test-fixture id=left-drawer> <template> <paper-drawer-panel class=notransition> <div drawer></div> <div main></div> </paper-drawer-panel> </template> </test-fixture> <test-fixture id=right-drawer> <template> <paper-drawer-panel right-drawer class=notransition> <div drawer></div> <div main></div> </paper-drawer-panel> </template> </test-fixture> <script>suite("on small devices",function(){test("drawer is hidden by default",function(e){var t,r,a;t=fixture("left-drawer"),r=t.$$("#drawer"),a=t.$$("#main"),t.set("forceNarrow",!0),t._forceNarrowChanged(),requestAnimationFrame(function(){var n=r.getBoundingClientRect();window.getComputedStyle(a);expect(t._isMainSelected()).to.be.equal(!0),expect(n.left).to.be.equal(-256),expect(n.width).to.be.equal(256),e()})}),test("right-drawer is hidden by default",function(e){var t,r,a;t=fixture("right-drawer"),r=t.$$("#drawer"),a=t.$$("#main"),t.set("forceNarrow",!0),t._forceNarrowChanged(),requestAnimationFrame(function(){var n=r.getBoundingClientRect();window.getComputedStyle(a);expect(n.right).to.be.equal(t.offsetWidth+256),expect(n.width).to.be.equal(256),e()})}),test("drawer can be opened",function(e){var t,r,a;t=fixture("left-drawer"),r=t.$$("#drawer"),a=t.$$("#main"),t.set("forceNarrow",!0),t._forceNarrowChanged(),t.openDrawer(),requestAnimationFrame(function(){var n=r.getBoundingClientRect();window.getComputedStyle(a);expect(t.selected).to.be.equal("drawer"),expect(t._isMainSelected()).to.be.equal(!1),expect(n.left).to.be.equal(0),expect(n.width).to.be.equal(256),e()})}),test("right-drawer can be closed",function(e){var t,r,a;t=fixture("right-drawer"),r=t.$$("#drawer"),a=t.$$("#main"),t.set("forceNarrow",!0),t._forceNarrowChanged(),t.openDrawer(),requestAnimationFrame(function(){var n=r.getBoundingClientRect();window.getComputedStyle(a);expect(n.right).to.be.equal(t.offsetWidth),expect(n.width).to.be.equal(256),e()})})})</script> </body> </html> 